(function(A){A.fn.ligerResizable=function(B){return this.each(function(){B=A.extend({},A.ligerDefaults.Resizable,B||{});var C={init:function(){C.target.append('<div class="l-resizable"></div>');var D=B.handles.split(",");for(var E=0;E<D.length;E++){switch(D[E].replace(/(^\s*)|(\s*$)/g,"")){case"nw":C.target.append('<div class="l-resizable-h-l" direction="nw"></div>');break;case"ne":C.target.append('<div class="l-resizable-h-r" direction="ne"></div>');break;case"n":C.target.append('<div class="l-resizable-h-c" direction="n"></div>');break;case"w":C.target.append('<div class="l-resizable-c-l" direction="w"></div>');break;case"e":C.target.append('<div class="l-resizable-c-r" direction="e"></div>');break;case"sw":C.target.append('<div class="l-resizable-f-l" direction="sw"></div>');break;case"se":C.target.append('<div class="l-resizable-f-r" direction="se"></div>');break;case"s":C.target.append('<div class="l-resizable-f-c" direction="s"></div>');break}}A("> .l-resizable-h-c , > .l-resizable-f-c",C.target).width(C.target.width());A("> .l-resizable-c-l , > .l-resizable-c-r",C.target).height(C.target.height());C.target.resizable=A("> .l-resizable",C.target)},start:function(F,D){A.fn.ligerNoSelect&&A("body").ligerNoSelect();A(".l-window-mask-nobackground").remove();A("<div class='l-window-mask-nobackground' style='display: block;'></div>").appendTo(A("body"));C.target.resizable.css({width:C.target.width(),height:C.target.height(),left:0,top:0});var E=C.target[0];C.current={dir:D,left:C.target.offset().left,top:C.target.offset().top,width:C.target.width(),height:C.target.height()};A(document).bind("mouseup",C.stop);A(document).bind("mousemove",C.drag);C.target.resizable.show();if(B.onStartResize){B.onStartResize(C.current,F)}},drag:function(J){var F=C.current.dir;var D=C.target.resizable[0];var G=C.current.width;var E=C.current.height;var I=(J.pageX||J.screenX)-C.current.left;var H=(J.pageY||J.clientY)-C.current.top;if(F.indexOf("e")>=0){I-=G}if(F.indexOf("s")>=0){H-=E}if(F!="n"&&F!="s"){G+=(F.indexOf("w")>=0)?-I:I}if(G>=B.minWidth){if(F.indexOf("w")>=0){D.style.left=I+"px"}if(F!="n"&&F!="s"){D.style.width=G+"px"}}if(F!="w"&&F!="e"){E+=(F.indexOf("n")>=0)?-H:H}if(E>=B.minHeight){if(F.indexOf("n")>=0){D.style.top=H+"px"}if(F!="w"&&F!="e"){D.style.height=E+"px"}}C.current.newWidth=G;C.current.newHeight=E;C.current.diffTop=parseInt(D.style.top);if(isNaN(C.current.diffTop)){C.current.diffTop=0}C.current.diffLeft=parseInt(D.style.left);if(isNaN(C.current.diffLeft)){C.current.diffLeft=0}A("body").css("cursor",F+"-resize");if(B.onResize){B.onResize(C.current,J)}},stop:function(D){A.fn.ligerNoSelect&&A("body").ligerNoSelect(false);A(".l-window-mask-nobackground").remove();if(!B.onStopResize){C.applyResize()}else{if(B.onStopResize(C.current,D)!=false){C.applyResize()}}A("body").css("cursor","");C.target.resizable.hide();A(document).unbind("mousemove",C.drag);A(document).unbind("mouseup",C.stop)},applyResize:function(){var D=0;var E=0;if(!isNaN(parseInt(C.target.css("top")))){D=parseInt(C.target.css("top"))}if(!isNaN(parseInt(C.target.css("left")))){E=parseInt(C.target.css("left"))}if(C.current.diffTop!=undefined){if(C.current.diffTop!=0){C.target.css({top:D+C.current.diffTop})}if(C.current.diffLeft!=0){C.target.css({left:E+C.current.diffLeft})}C.target.css({width:C.current.newWidth,height:C.current.newHeight})}}};C.target=A(this);C.init();A(">div",C.target).mousedown(function(D){if(!A(this).attr("direction")){return}C.start(D,A(this).attr("direction"));return false})})};A.ligerDefaults=A.ligerDefaults||{};A.ligerDefaults.Resizable={handles:"n, e, s, w, ne, se, sw, nw",maxWidth:2000,maxHeight:2000,minWidth:20,minHeight:20,onStartResize:function(B){},onResize:function(B){},onStopResize:function(B){}}})(jQuery);