(function(A){A.fn.ligerDrag=function(B){B=A.extend({onStartDrag:false,onDrag:false,onStopDrag:false},B||{});return this.each(function(){var C={start:function(D){A("body").css("cursor","move");C.current={target:C.target,left:C.target.offset().left,top:C.target.offset().top,startX:D.pageX||D.screenX,startY:D.pageY||D.clientY};A(document).bind("mouseup",C.stop);A(document).bind("mousemove",C.drag);if(B.onStartDrag){B.onStartDrag(C.current,D)}},drag:function(F){var D=F.pageX||F.screenX;var E=F.pageY||F.screenY;C.current.diffX=D-C.current.startX;C.current.diffY=E-C.current.startY;if(B.onDrag){if(B.onDrag(C.current,F)!=false){C.applyDrag()}}else{C.applyDrag()}},stop:function(D){A(document).unbind("mousemove",C.drag);A(document).unbind("mouseup",C.stop);A("body").css("cursor","");if(B.onStopDrag){B.onStopDrag(C.current,D)}C.current=null},applyDrag:function(){if(C.current.diffX){C.target.css("left",(C.current.left+C.current.diffX))}if(C.current.diffY){C.target.css("top",(C.current.top+C.current.diffY))}}};C.target=A(this);if(B.handler==undefined||B.handler==null){C.handler=A(this)}else{C.handler=(typeof B.handler=="string"?A(B.handler,this):B.handle)}C.handler.hover(function(){A("body").css("cursor","move")},function(){A("body").css("cursor","")}).mousedown(function(D){C.start(D);return false})})}})(jQuery);